<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://trackpro.arybit.co.ke https://maps.googleapis.com https://api.paystack.co https://js.stripe.com; style-src 'self' https://cdn.jsdelivr.net https://fonts.googleapis.com 'unsafe-inline'; script-src 'self' https://cdn.jsdelivr.net https://unpkg.com; img-src 'self' data: https://trackpro.arybit.co.ke; worker-src 'self' blob:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <meta name="color-scheme" content="light dark">
    <!-- SEO Meta Tags -->
    <meta name="description" content="TrackPro: Real-time GPS tracking, geofencing, analytics, and AI-powered fleet management.">
    <meta name="keywords" content="TrackPro, GPS tracking, fleet management, real-time tracking, geofencing, analytics, route optimization, Arybit Technologies">
    <!-- Canonical -->
    <link rel="canonical" href="https://trackpro.arybit.co.ke">
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192x192.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#32062e">
    <!-- Open Graph -->
    <meta property="og:title" content="TrackPro – Fleet Management Platform">
    <meta property="og:description" content="Optimize your fleet with real-time GPS tracking, geofencing, analytics, and AI-driven route optimization.">
    <meta property="og:image" content="https://trackpro.arybit.co.ke/assets/preview.png">
    <meta property="og:url" content="https://trackpro.arybit.co.ke">
    <meta property="og:type" content="website">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TrackPro – Fleet Management Platform">
    <meta name="twitter:description" content="Real-time GPS tracking, geofencing, and analytics for efficient fleet management.">
    <meta name="twitter:image" content="https://trackpro.arybit.co.ke/assets/preview.png">
    <meta name="twitter:site" content="@TrackProArybit">
    <!-- Robots -->
    <meta name="robots" content="index, follow">
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "MobileApplication",
        "name": "TrackPro",
        "operatingSystem": "ANDROID, IOS",
        "applicationCategory": "BusinessApplication",
        "url": "https://trackpro.arybit.co.ke",
        "description": "TrackPro offers real-time GPS tracking, geofencing, device management, analytics, and AI-powered route optimization.",
        "image": "https://trackpro.arybit.co.ke/assets/logo.png"
    }
    </script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome 6.6.0 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Bootstrap 5.3.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Leaflet for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/index.css">
    <title>TrackPro – Fleet Management</title>
</head>
<body>
    <noscript>
        <div class="alert alert-warning text-center p-3">
            JavaScript is required to use TrackPro. Please enable it in your browser settings.
        </div>
    </noscript>
    <div class="loading" id="loading" role="alert" aria-live="assertive">
        <div class="spinner" aria-hidden="true"></div>
        <p class="sr-only">Loading TrackPro...</p>
    </div>
    <div class="container-fluid p-0">
        <!-- Status Bar -->
        <div class="status-bar d-flex justify-content-between align-items-center" role="status">
            <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
            <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
            <span id="time-display" aria-label="Current time">09:34</span>
        </div>

        <!-- Home Screen -->
        <div class="screen active" id="home" role="main">
            <div class="header">
                <div class="logo" aria-label="TrackPro logo">
                    <i class="fas fa-map-pin"></i> TrackPro
                </div>
                <div class="tagline">Your Fleet Management Solution</div>
            </div>
            <div class="hero-section mx-md-5 mb-3">
                <h1 class="hero-title">Track. Optimize.<br>Manage.</h1>
                <p class="hero-subtitle">Real-time GPS tracking, analytics, and fleet optimization</p>
            </div>
            <div class="quick-actions row row-cols-2 row-cols-md-4 g-3 px-3" role="navigation" aria-label="Quick actions">
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="showScreen('tracking')" aria-label="Live Tracking">
                        <i class="action-icon fas fa-map-marker-alt" aria-hidden="true"></i>
                        <div class="action-title">Live Tracking</div>
                        <div class="action-desc">Monitor vehicles in real-time with GPS</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="showScreen('geofencing')" aria-label="Geofencing">
                        <i class="action-icon fas fa-globe" aria-hidden="true"></i>
                        <div class="action-title">Geofencing</div>
                        <div class="action-desc">Set zones for entry/exit alerts</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="showScreen('reports')" aria-label="Reports & Analytics">
                        <i class="action-icon fas fa-chart-bar" aria-hidden="true"></i>
                        <div class="action-title">Reports & Analytics</div>
                        <div class="action-desc">Fuel, driver, and route insights</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="showScreen('devices')" aria-label="Device Management">
                        <i class="action-icon fas fa-mobile-alt" aria-hidden="true"></i>
                        <div class="action-title">Device Management</div>
                        <div class="action-desc">Manage GPS devices and settings</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="startRouteOptimization()" aria-label="AI Route Optimization">
                        <i class="action-icon fas fa-brain" aria-hidden="true"></i>
                        <div class="action-title">AI Route Optimization</div>
                        <div class="action-desc">Plan efficient routes with AI</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="showScreen('history')" aria-label="Trip History">
                        <i class="action-icon fas fa-history" aria-hidden="true"></i>
                        <div class="action-title">Trip History</div>
                        <div class="action-desc">View and replay past journeys</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="openAlerts()" aria-label="Alert Management">
                        <i class="action-icon fas fa-bell" aria-hidden="true"></i>
                        <div class="action-title">Alert Management</div>
                        <div class="action-desc">Configure and view alerts</div>
                    </div>
                </div>
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" onclick="openSupport()" aria-label="Priority Support">
                        <i class="action-icon fas fa-headset" aria-hidden="true"></i>
                        <div class="action-title">Priority Support</div>
                        <div class="action-desc">24/7 support for Pro/Enterprise</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tracking Screen -->
        <div class="screen" id="tracking" role="main">
            <div class="status-bar d-flex justify-content-between align-items-center" role="status">
                <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
                <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
                <span id="time-display" aria-label="Current time">09:34</span>
            </div>
            <div class="header d-flex align-items-center justify-content-between">
                <button class="back-btn" onclick="showScreen('home')" aria-label="Back to Home"><i class="fas fa-arrow-left"></i></button>
                <div class="logo mx-auto text-center">Live Tracking</div>
            </div>
            <div class="tracking-section px-3 pb-5">
                <div id="map" style="height: 400px;" role="region" aria-label="Live tracking map"></div>
                <div class="card-body py-3 px-4 d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3 mt-3">
                    <div class="d-flex flex-wrap gap-3 align-items-center">
                        <span class="badge bg-primary bg-gradient"><i class="fas fa-map-marker-alt" aria-hidden="true"></i> <span id="lat">N/A</span>, <span id="lng">N/A</span></span>
                        <span class="badge bg-secondary"><i class="fas fa-bullseye" aria-hidden="true"></i> <span id="accuracy">N/A</span></span>
                        <span class="badge" id="vehicle-status" style="background:#28a7451a;color:#28a745;font-weight:600;">Active</span>
                        <span class="badge" id="geofence-status" style="background:#e9ecef;color:#28a745;font-weight:600;">Inactive</span>
                    </div>
                    <a id="view-map-link" href="#" target="_blank" class="btn btn-sm btn-outline-light d-flex align-items-center gap-2" aria-label="Open in Google Maps">
                        <i class="fas fa-external-link-alt" aria-hidden="true"></i> Google Maps
                    </a>
                </div>
                <div class="text-center mt-4">
                    <small class="text-muted">Vehicle locations updated every 5–15 seconds via WebSockets.</small>
                </div>
            </div>
        </div>

        <!-- Geofencing Screen -->
        <div class="screen" id="geofencing" role="main">
            <div class="status-bar d-flex justify-content-between align-items-center" role="status">
                <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
                <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
                <span id="time-display" aria-label="Current time">09:34</span>
            </div>
            <div class="header">
                <button class="back-btn" onclick="showScreen('home')" aria-label="Back to Home"><i class="fas fa-arrow-left"></i></button>
                <div class="logo">Geofencing</div>
            </div>
            <div class="geofencing-section px-3 pb-5" role="list" aria-label="Geofencing features">
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-globe" aria-hidden="true"></i>
                        <div class="feature-title">Create Geofences</div>
                    </div>
                    <div class="feature-desc">Set circular or polygonal zones for real-time entry/exit alerts.</div>
                </div>
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-bell" aria-hidden="true"></i>
                        <div class="feature-title">Alert Notifications</div>
                    </div>
                    <div class="feature-desc">Receive SMS/email alerts for geofence events.</div>
                </div>
            </div>
        </div>

        <!-- Reports & Analytics Screen -->
        <div class="screen" id="reports" role="main">
            <div class="status-bar d-flex justify-content-between align-items-center" role="status">
                <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
                <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
                <span id="time-display" aria-label="Current time">09:34</span>
            </div>
            <div class="header">
                <button class="back-btn" onclick="showScreen('home')" aria-label="Back to Home"><i class="fas fa-arrow-left"></i></button>
                <div class="logo">Reports & Analytics</div>
            </div>
            <div class="reports-section px-3 pb-5" role="list" aria-label="Reports features">
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-chart-bar" aria-hidden="true"></i>
                        <div class="feature-title">Fuel Reports</div>
                    </div>
                    <div class="feature-desc">Track fuel consumption and efficiency.</div>
                </div>
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-car" aria-hidden="true"></i>
                        <div class="feature-title">Driver Behavior</div>
                    </div>
                    <div class="feature-desc">Monitor speeding, idling, and harsh braking.</div>
                </div>
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-road" aria-hidden="true"></i>
                        <div class="feature-title">Route Optimization</div>
                    </div>
                    <div class="feature-desc">Analyze routes for efficiency and cost savings.</div>
                </div>
            </div>
        </div>

        <!-- Device Management Screen -->
        <div class="screen" id="devices" role="main">
            <div class="status-bar d-flex justify-content-between align-items-center" role="status">
                <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
                <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
                <span id="time-display" aria-label="Current time">09:34</span>
            </div>
            <div class="header">
                <button class="back-btn" onclick="showScreen('home')" aria-label="Back to Home"><i class="fas fa-arrow-left"></i></button>
                <div class="logo">Device Management</div>
            </div>
            <div class="devices-section px-3 pb-5" role="list" aria-label="Device management features">
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-mobile-alt" aria-hidden="true"></i>
                        <div class="feature-title">Register Devices</div>
                    </div>
                    <div class="feature-desc">Add GPS devices using IMEI and SIM details.</div>
                </div>
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-cog" aria-hidden="true"></i>
                        <div class="feature-title">Device Configuration</div>
                    </div>
                    <div class="feature-desc">Update firmware and settings via API.</div>
                </div>
            </div>
        </div>

        <!-- Trip History Screen -->
        <div class="screen" id="history" role="main">
            <div class="status-bar d-flex justify-content-between align-items-center" role="status">
                <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
                <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
                <span id="time-display" aria-label="Current time">09:34</span>
            </div>
            <div class="header">
                <button class="back-btn" onclick="showScreen('home')" aria-label="Back to Home"><i class="fas fa-arrow-left"></i></button>
                <div class="logo">Trip History</div>
            </div>
            <div class="history-section px-3 pb-5" role="list" aria-label="Trip history features">
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-history" aria-hidden="true"></i>
                        <div class="feature-title">Journey Replay</div>
                    </div>
                    <div class="feature-desc">Replay past trips with timestamps and stops.</div>
                </div>
                <div class="feature-card" role="listitem">
                    <div class="feature-header d-flex align-items-center gap-3 mb-3">
                        <i class="feature-icon fas fa-file-download" aria-hidden="true"></i>
                        <div class="feature-title">Export Reports</div>
                    </div>
                    <div class="feature-desc">Download trip data in CSV/PDF formats.</div>
                </div>
            </div>
        </div>

        <!-- Profile Screen -->
        <div class="screen" id="profile" role="main">
            <div class="status-bar d-flex justify-content-between align-items-center" role="status">
                <span id="connection-status" aria-label="Connection status"><i class="fas fa-circle text-success"></i> Online</span>
                <span id="location-status" aria-label="Location status"><i class="fas fa-map-marker-alt"></i> GPS Ready</span>
                <span id="time-display" aria-label="Current time">09:34</span>
            </div>
            <div class="header">
                <button class="back-btn" onclick="showScreen('home')" aria-label="Back to Home"><i class="fas fa-arrow-left"></i></button>
                <div class="logo">Profile & Settings</div>
            </div>
            <div class="profile-section px-3 pb-5">
                <div class="profile-header d-flex align-items-center gap-3 mb-4 p-4 rounded-3">
                    <div class="profile-avatar" aria-hidden="true">JD</div>
                    <div class="profile-info">
                        <h3 class="h5 mb-1">Fleet Manager</h3>
                        <p class="text-muted">Enterprise Plan</p>
                    </div>
                </div>
                <div class="settings-list d-flex flex-column" role="navigation" aria-label="Settings menu">
                    <div class="setting-item d-flex align-items-center justify-content-between p-3 rounded-top-3" role="button" tabindex="0" onclick="openAccount()" aria-label="Manage Account">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <i class="setting-icon fas fa-user" aria-hidden="true"></i>
                            <div class="setting-text">Account</div>
                        </div>
                        <i class="setting-arrow fas fa-arrow-right" aria-hidden="true"></i>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="openSettings()" aria-label="App Settings">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <i class="setting-icon fas fa-cog" aria-hidden="true"></i>
                            <div class="setting-text">Settings</div>
                        </div>
                        <i class="setting-arrow fas fa-arrow-right" aria-hidden="true"></i>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="toggleLanguage()" aria-label="Change Language">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <i class="setting-icon fas fa-globe" aria-hidden="true"></i>
                            <div class="setting-text">Language</div>
                        </div>
                        <i class="setting-arrow fas fa-arrow-right" aria-hidden="true"></i>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="window.open('https://trackpro.arybit.co.ke/privacy')" aria-label="View Privacy Policy">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <i class="setting-icon fas fa-lock" aria-hidden="true"></i>
                            <div class="setting-text">Privacy Policy</div>
                        </div>
                        <i class="setting-arrow fas fa-arrow-right" aria-hidden="true"></i>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="window.open('https://twitter.com/trackpro_arybit')" aria-label="Follow on Twitter/X">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <i class="setting-icon fab fa-x-twitter" aria-hidden="true"></i>
                            <div class="setting-text">Follow on X</div>
                        </div>
                        <i class="setting-arrow fas fa-arrow-right" aria-hidden="true"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav d-flex justify-content-around align-items-center" role="navigation" aria-label="Main navigation">
            <div class="nav-item active text-center" role="button" tabindex="0" onclick="showScreen('home')" aria-label="Home">
                <i class="nav-icon fas fa-home" aria-hidden="true"></i>
                <div class="nav-label">Home</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('tracking')" aria-label="Tracking">
                <i class="nav-icon fas fa-map-marker-alt" aria-hidden="true"></i>
                <div class="nav-label">Tracking</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('geofencing')" aria-label="Geofencing">
                <i class="nav-icon fas fa-globe" aria-hidden="true"></i>
                <div class="nav-label">Geofencing</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('reports')" aria-label="Reports">
                <i class="nav-icon fas fa-chart-bar" aria-hidden="true"></i>
                <div class="nav-label">Reports</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('devices')" aria-label="Devices">
                <i class="nav-icon fas fa-mobile-alt" aria-hidden="true"></i>
                <div class="nav-label">Devices</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('profile')" aria-label="Profile">
                <i class="nav-icon fas fa-user" aria-hidden="true"></i>
                <div class="nav-label">Profile</div>
            </div>
        </nav>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Cordova -->
    <script src="cordova.js"></script>
    <!-- Custom JS -->
    <script src="js/index.js"></script>
</body>
</html>