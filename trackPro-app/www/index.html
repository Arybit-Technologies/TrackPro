<!DOCTYPE html>
<!--
    Licensed under the Apache License, Version 2.0
    http://www.apache.org/licenses/LICENSE-2.0
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="
  default-src 'self' https://trackpro.arybit.co.ke https://maps.googleapis.com https://maps.gstatic.com https://api.paystack.co https://js.stripe.com;
  style-src 'self' https://cdn.jsdelivr.net https://fonts.googleapis.com https://maps.googleapis.com https://maps.gstatic.com 'unsafe-inline';
  script-src 'self' https://cdn.jsdelivr.net https://unpkg.com https://maps.googleapis.com https://maps.gstatic.com;
  img-src 'self' data: https://trackpro.arybit.co.ke https://maps.googleapis.com https://maps.gstatic.com;
  media-src 'self';
  worker-src 'self' blob:;
  connect-src 'self' ws: https://trackpro.arybit.co.ke https://maps.googleapis.com https://maps.gstatic.com https://api.paystack.co https://api.stripe.com
">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <meta name="color-scheme" content="light dark">
    <!-- SEO Meta Tags -->
    <meta name="description" content="TrackPro: Real-time GPS tracking, geofencing, device management, analytics, and AI-powered route optimization for efficient fleet management.">
    <meta name="keywords" content="TrackPro, GPS tracking, fleet management, real-time tracking, geofencing, analytics, route optimization, Arybit Technologies">
    <!-- Canonical -->
    <link rel="canonical" href="https://trackpro.arybit.co.ke">
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192x192.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#32062e">
    <!-- Open Graph -->
    <meta property="og:title" content="TrackPro ‚Äì Fleet Management Platform">
    <meta property="og:description" content="Optimize your fleet with real-time GPS tracking, geofencing, analytics, and AI-driven route optimization.">
    <meta property="og:image" content="https://trackpro.arybit.co.ke/assets/preview.png">
    <meta property="og:image:alt" content="TrackPro fleet management dashboard preview">
    <meta property="og:url" content="https://trackpro.arybit.co.ke">
    <meta property="og:type" content="website">
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TrackPro ‚Äì Fleet Management Platform">
    <meta name="twitter:description" content="Real-time GPS tracking, geofencing, and analytics for efficient fleet management.">
    <meta name="twitter:image" content="https://trackpro.arybit.co.ke/assets/preview.png">
    <meta name="twitter:image:alt" content="TrackPro fleet management dashboard preview">
    <meta name="twitter:site" content="@TrackProArybit">
    <!-- Robots -->
    <meta name="robots" content="index, follow">
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "MobileApplication",
        "name": "TrackPro",
        "operatingSystem": "Android, iOS",
        "applicationCategory": "BusinessApplication",
        "url": "https://trackpro.arybit.co.ke",
        "description": "TrackPro offers real-time GPS tracking, geofencing, device management, analytics, and AI-powered route optimization for efficient fleet operations.",
        "image": "https://trackpro.arybit.co.ke/assets/logo.png"
    }
    </script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome 6.6.0 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <!-- Bootstrap 5.3.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Leaflet for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha512-Zcn6bjR/8n/huZuAjG2w+Nu6dpF4Ed3L6y/2MeXZ1KnN2kWbRtV9m2g==" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/index.css">
    <title>TrackPro ‚Äì Fleet Management</title>
</head>
<body>
    <noscript>
        <div class="alert alert-warning text-center p-3">
            JavaScript is required to use TrackPro. Please enable it in your browser settings.
        </div>
    </noscript>
    
    <header role="banner" id="header">
      <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="navbar">
        <div class="container nav-container">
            <a class="navbar-brand logo" href="../../trackPro-app/www/" title="Go to TrackPro Dashboard">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="32" height="32" style="vertical-align: middle;">
                    <rect width="100" height="100" rx="20" fill="#32062e"/>
                    <text x="50%" y="38%" text-anchor="middle" font-size="28">üìç</text>
                    <text x="50%" y="72%" text-anchor="middle" font-size="36">üöó</text>
                </svg>
                <span style="margin-left: 8px;">TrackPro</span>
            </a>
            <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto nav-menu">
                    <li class="nav-item"><a class="nav-link" href="../../TrackPro/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../trackPro-features.html">Features</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../trackPro-how-it-works.html">How It Works</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../trackPro-device-docs.html">Device Docs</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../trackPro-integration-and-docs.html">Integration & Docs</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../trackPro-pricing.html">Pricing</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" id="toggleThemeBtn"><i class="fas fa-moon"></i> Dark Mode</a></li>
                </ul>
            </div>
        </div>
      </nav>
      <!-- Status Bar -->
      <div class="status-bar d-flex justify-content-between align-items-center d-none" role="status">
          <span id="connection-status" aria-label="Connection status">üü¢ Online</span>
          <span id="location-status" aria-label="Location status">üìç GPS Ready</span>
          <span id="time-display" aria-label="Current time"></span>
      </div>
    </header>

    <!-- Fixed header for screens except Home -->
    <div id="screen-header" class="header d-flex align-items-center justify-content-between" style="display: none; position: fixed; top: 0; left: 0; right: 0; z-index: 999;">
        <!-- Content will be set dynamically -->
    </div>

    <div class="loading" id="loading" role="alert" aria-live="assertive">
        <div class="spinner" aria-hidden="true"></div>
        <p class="sr-only">Loading TrackPro...</p>
    </div>
    <div class="container-fluid p-0">       

        <!-- Home Screen -->
        <div class="screen active" id="home" role="main">
            <div class="hero-section mx-md-5 mb-3">
                <h1 class="hero-title">Track. Optimize.<br>Manage.</h1>
                <p class="hero-subtitle">Real-time GPS tracking, analytics, and fleet optimization</p>
            </div>
            <div class="quick-actions row row-cols-2 row-cols-md-4 g-3 px-3" role="navigation" aria-label="Quick actions">
                <!-- Live Tracking -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-screen="tracking" aria-label="Live Tracking">
                        <span class="action-icon" aria-hidden="true">üìç</span>
                        <div class="action-title">Live Tracking</div>
                        <div class="action-desc">Monitor vehicles in real-time with GPS</div>
                    </div>
                </div>
                <!-- Geofencing -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-screen="geofencing" aria-label="Geofencing">
                        <span class="action-icon" aria-hidden="true">üåç</span>
                        <div class="action-title">Geofencing</div>
                        <div class="action-desc">Set zones for entry/exit alerts</div>
                    </div>
                </div>
                <!-- AI Route Optimization -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-action="ai-route-optimization" aria-label="AI Route Optimization">
                        <span class="action-icon" aria-hidden="true">üß†</span>
                        <div class="action-title">AI Route Optimization</div>
                        <div class="action-desc">Plan efficient routes with AI</div>
                    </div>
                </div>
                <!-- Reports & Analytics -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-screen="reports" aria-label="Reports and Analytics">
                        <span class="action-icon" aria-hidden="true">üìä</span>
                        <div class="action-title">Reports & Analytics</div>
                        <div class="action-desc">Fuel, driver, and route insights</div>
                    </div>
                </div>
                <!-- Device Management -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-screen="devices" aria-label="Device Management">
                        <span class="action-icon" aria-hidden="true">üì±</span>
                        <div class="action-title">Device Management</div>
                        <div class="action-desc">Manage GPS devices and settings</div>
                    </div>
                </div>
                <!-- Trip History -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-screen="history" aria-label="Trip History">
                        <span class="action-icon" aria-hidden="true">üïí</span>
                        <div class="action-title">Trip History</div>
                        <div class="action-desc">View and replay past journeys</div>
                    </div>
                </div>
                <!-- Alert Management -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-action="alerts" aria-label="Alert Management">
                        <span class="action-icon" aria-hidden="true">üîî</span>
                        <div class="action-title">Alert Management</div>
                        <div class="action-desc">Configure and view alerts</div>
                    </div>
                </div>
                <!-- Priority Support -->
                <div class="col">
                    <div class="action-card" role="button" tabindex="0" data-action="support" aria-label="Priority Support">
                        <span class="action-icon" aria-hidden="true">üìû</span>
                        <div class="action-title">Priority Support</div>
                        <div class="action-desc">24/7 support for Pro/Enterprise</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tracking Screen -->
        <div class="screen" id="tracking" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üìç Live Tracking</div>
            </div>
            <div class="tracking-section px-3 pb-5">
                <div id="tracking-map" style="height: calc(100vh - 150px); width: 100%;" role="region" aria-label="Live tracking map"></div>
                <div class="text-center mt-4">
                    <small class="text-muted">Vehicle locations updated every 5‚Äì15 seconds via WebSockets.</small>
                </div>
                <!-- Vehicle Selector Tracking Widget Card -->
                 <div class="d-none">
                 <div class="tracking-widget-card" id="trackingWidgetCard">
                    <button class="tracking-widget-close" onclick="document.getElementById('trackingWidgetCard').style.display='none'" aria-label="Close widget">√ó</button>
                    <!-- Logo and Title Row -->
                    <div class="d-flex align-items-center gap-2">
                        <img src="icons/icon-32x32.png" alt="TrackPro Logo" class="tracking-widget-img" style="width:32px;height:32px;border-radius:8px;background:#32062e;box-shadow:0 2px 8px rgba(50,6,46,0.12);">
                        <select class="form-select" id="vehicle-select" aria-label="Select vehicle" style="max-width: 180px;">
                            <option selected>Select Vehicle</option>
                            <option value="vehicle1">Vehicle 1</option>
                            <option value="vehicle2">Vehicle 2</option>
                        </select>
                    </div>
                  </div>
                 </div>
                <!-- Tracking Feature Cards Scrollable Section (list all vehicles) -->
                <div class="tracking-feature-scroll" style="position:absolute; bottom:0; left:0; width:100vw; max-width:100vw; z-index:10; background:linear-gradient(0deg,rgba(32,32,32,0.96) 80%,rgba(32,32,32,0.7) 100%,transparent 100%); padding:18px 10px 90px 10px; box-sizing:border-box; overflow-x:auto; overflow-y:auto; display:flex; flex-direction:row; gap:16px;">
                    <!-- Example: Repeat this .feature-card for each vehicle in your fleet -->
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-2">
                            <div class="feature-icon" aria-hidden="true">üöó</div>
                            <div class="feature-title">Vehicle 1</div>
                        </div>
                        <div class="feature-desc mb-2">Toyota Prado - KDA 123A</div>
                        <span class="badge bg-primary bg-gradient">
                            <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                            <span class="lat">-1.286389</span>, <span class="lng">36.817223</span>
                        </span>
                        <span class="badge bg-secondary">
                            <i class="fas fa-bullseye" aria-hidden="true"></i>
                            <span class="accuracy">¬±5m</span>
                        </span>
                        <span class="badge" style="background:#28a7451a;color:#28a745;">Active</span>
                        <span class="badge" style="background:#dc35451a;color:#dc3545;">Geofence: Out</span>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-2">
                            <div class="feature-icon" aria-hidden="true">üöö</div>
                            <div class="feature-title">Vehicle 2</div>
                        </div>
                        <div class="feature-desc mb-2">Isuzu NQR - KDB 456B</div>
                        <span class="badge bg-primary bg-gradient">
                            <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                            <span class="lat">-1.287000</span>, <span class="lng">36.818000</span>
                        </span>
                        <span class="badge bg-secondary">
                            <i class="fas fa-bullseye" aria-hidden="true"></i>
                            <span class="accuracy">¬±7m</span>
                        </span>
                        <span class="badge" style="background:#28a7451a;color:#28a745;">Active</span>
                        <span class="badge" style="background:#28a7451a;color:#28a745;">Geofence: In</span>
                    </div>
                    <!-- Repeat for each vehicle -->
                </div>
            </div>
        </div>

        <!-- Geofencing Screen -->
        <div class="screen" id="geofencing" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üåç Geofencing</div>
            </div>
            <div class="geofencing-section" style="padding:0 !important; margin:0 !important; height:100vh; width:100vw; position:fixed; top:0; left:0; z-index:1; background:#000;">
                <div id="geofence-map" role="region" aria-label="Geofencing map"></div>
                <!-- Feature Cards Scrollable Section -->
                <div class="geofence-feature-scroll">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üåç</div>
                            <div class="feature-title">Create Geofences</div>
                        </div>
                        <div class="feature-desc">Set circular or polygonal zones for real-time entry/exit alerts.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üîî</div>
                            <div class="feature-title">Alert Notifications</div>
                        </div>
                        <div class="feature-desc">Receive SMS/email alerts for geofence events.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìã</div>
                            <div class="feature-title">Geofence History</div>
                        </div>
                        <div class="feature-desc">View entry/exit logs for each zone.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports & Analytics Screen -->
        <div class="screen" id="reports" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üìä Reports & Analytics</div>
            </div>
            <div class="reports-section" style="position:relative; height:100vh; width:100vw; background:#000;">
                <!-- Reports & Analytics Quick Actions Grid -->
                <div class="quick-actions row row-cols-2 row-cols-md-4 g-3 px-3" role="navigation" aria-label="Reports Quick Actions">
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-report="fuel" aria-label="Fuel Report">
                            <span class="action-icon" aria-hidden="true">‚õΩ</span>
                            <div class="action-title">Fuel Report</div>
                            <div class="action-desc">Track fuel consumption and efficiency</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-report="driver" aria-label="Driver Behavior">
                            <span class="action-icon" aria-hidden="true">üöó</span>
                            <div class="action-title">Driver Behavior</div>
                            <div class="action-desc">Monitor speeding, idling, harsh braking</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-report="route" aria-label="Route Optimization">
                            <span class="action-icon" aria-hidden="true">üõ§Ô∏è</span>
                            <div class="action-title">Route Optimization</div>
                            <div class="action-desc">Analyze routes for efficiency and cost</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-report="custom" aria-label="Custom Report">
                            <span class="action-icon" aria-hidden="true">üìÑ</span>
                            <div class="action-title">Custom Report</div>
                            <div class="action-desc">Export data as CSV or PDF</div>
                        </div>
                    </div>
                </div>
                <!-- Reports & Analytics Scrollable Section -->
                <div class="reports-feature-scroll" style="position:absolute; bottom:0; left:0; width:100vw; max-width:100vw; z-index:10; background:linear-gradient(0deg,rgba(32,32,32,0.96) 80%,rgba(32,32,32,0.7) 100%,transparent 100%); padding:18px 10px 90px 10px; box-sizing:border-box; overflow-x:auto; overflow-y:auto; display:flex; flex-direction:row; gap:16px;">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìä</div>
                            <div class="feature-title">Fuel Reports</div>
                        </div>
                        <div class="feature-desc">Track fuel consumption and efficiency.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üöó</div>
                            <div class="feature-title">Driver Behavior</div>
                        </div>
                        <div class="feature-desc">Monitor speeding, idling, and harsh braking.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üõ§Ô∏è</div>
                            <div class="feature-title">Route Optimization</div>
                        </div>
                        <div class="feature-desc">Analyze routes for efficiency and cost savings.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìÑ</div>
                            <div class="feature-title">Export Reports</div>
                        </div>
                        <div class="feature-desc">Download trip and report data in CSV/PDF formats.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Route Optimization Screen -->
        <div class="screen" id="ai-route-optimization" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üß† AI Route Optimization</div>
            </div>
            <div class="route-optimization-section" style="padding:0 !important; margin:0 !important; height:100vh; width:100vw; position:fixed; top:0; left:0; z-index:1; background:#000;">
                <div id="ai-route-optimization-map" role="region" aria-label="AI Route Optimization map" style="width:100vw; height:100vh; min-width:0; min-height:0; position:relative; z-index:2; border-radius:0 !important; margin:0 !important; box-shadow:none !important; background:#000;"></div>
                <!-- Feature Cards Scrollable Section -->
                <div class="ai-route-feature-scroll" style="position:absolute; bottom:0; left:0; width:100vw; max-width:100vw; z-index:10; background:linear-gradient(0deg,rgba(32,32,32,0.96) 80%,rgba(32,32,32,0.7) 100%,transparent 100%); padding:18px 10px 90px 10px; box-sizing:border-box; overflow-x:auto; overflow-y:auto; display:flex; flex-direction:row; gap:16px;">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üß†</div>
                            <div class="feature-title">Route Planning</div>
                        </div>
                        <div class="feature-desc">Generate efficient routes using AI algorithms.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">‚è±Ô∏è</div>
                            <div class="feature-title">Time Optimization</div>
                        </div>
                        <div class="feature-desc">Minimize travel time with real-time traffic data.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üí∞</div>
                            <div class="feature-title">Cost Savings</div>
                        </div>
                        <div class="feature-desc">Reduce fuel and operational costs.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trip History Screen -->
        <div class="screen" id="history" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üïí Trip History</div>
            </div>
            <div class="history-section" style="padding:0 !important; margin:0 !important; height:100vh; width:100vw; position:fixed; top:0; left:0; z-index:1; background:#000;">
                <div id="history-map" role="region" aria-label="Trip history map" style="width:100vw; height:100vh; min-width:0; min-height:0; position:relative; z-index:2; border-radius:0 !important; margin:0 !important; box-shadow:none !important; background:#000;"></div>
                <!-- Feature Cards Scrollable Section -->
                <div class="history-feature-scroll" style="position:absolute; bottom:0; left:0; width:100vw; max-width:100vw; z-index:10; background:linear-gradient(0deg,rgba(32,32,32,0.96) 80%,rgba(32,32,32,0.7) 100%,transparent 100%); padding:18px 10px 90px 10px; box-sizing:border-box; overflow-x:auto; overflow-y:auto; display:flex; flex-direction:row; gap:16px;">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üïí</div>
                            <div class="feature-title">Journey Replay</div>
                        </div>
                        <div class="feature-desc">Replay past trips with timestamps and stops.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìÑ</div>
                            <div class="feature-title">Export Reports</div>
                        </div>
                        <div class="feature-desc">Download trip data in CSV/PDF formats.</div>
                    </div>
                    <!-- Add more feature cards as needed -->
                </div>
                <!-- Trip selector and replay button overlay (optional, can be styled as a floating widget) -->
                <div class="trip-history-widget" style="position:absolute;top:24px;left:50%;transform:translateX(-50%);z-index:20;max-width:400px;width:95vw;background:rgba(50,6,46,0.92);border-radius:18px;box-shadow:0 8px 32px rgba(0,0,0,0.25);padding:18px 14px 14px 14px;">
                    <div class="input-group mb-3">
                        <select class="form-select" id="trip-select" aria-label="Select trip">
                            <option selected>Select Trip</option>
                            <option value="trip1">Trip 1 - 2025-07-01</option>
                            <option value="trip2">Trip 2 - 2025-07-02</option>
                        </select>
                        <button class="btn btn-primary" onclick="replayTrip()" aria-label="Replay trip">Replay</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alert Management Screen -->
        <div class="screen" id="alerts" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üîî Alert Management</div>
            </div>
            <div class="alerts-section" style="padding:0 !important; margin:0 !important; height:100vh; width:100vw; position:fixed; top:0; left:0; z-index:1; background:#000;">
                <!-- Alert Management Feature Cards Scrollable Section -->
                <div class="alerts-feature-scroll" style="position:absolute; bottom:0; left:0; width:100vw; max-width:100vw; z-index:10; background:linear-gradient(0deg,rgba(32,32,32,0.96) 80%,rgba(32,32,32,0.7) 100%,transparent 100%); padding:18px 10px 90px 10px; box-sizing:border-box; overflow-x:auto; overflow-y:auto; display:flex; flex-direction:row; gap:16px;">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üîî</div>
                            <div class="feature-title">Configure Alerts</div>
                        </div>
                        <div class="feature-desc">Set up alerts for geofence, speeding, or maintenance.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üì¨</div>
                            <div class="feature-title">Notification Settings</div>
                        </div>
                        <div class="feature-desc">Choose SMS, email, or in-app notifications.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìú</div>
                            <div class="feature-title">Alert History</div>
                        </div>
                        <div class="feature-desc">View past alerts and their details.</div>
                    </div>
                </div>
                <!-- Alert Type Selector Widget (optional, floating at the top) -->
                <div class="alert-type-widget" style="position:absolute;top:24px;left:50%;transform:translateX(-50%);z-index:20;max-width:400px;width:95vw;background:rgba(50,6,46,0.92);border-radius:18px;box-shadow:0 8px 32px rgba(0,0,0,0.25);padding:18px 14px 14px 14px;">
                    <div class="input-group mb-3">
                        <select class="form-select" id="alert-type" aria-label="Select alert type">
                            <option selected>Select Alert Type</option>
                            <option value="geofence">Geofence Entry/Exit</option>
                            <option value="speed">Speeding</option>
                            <option value="maintenance">Maintenance</option>
                        </select>
                        <button class="btn btn-primary" onclick="configureAlert()" aria-label="Configure alert">Configure</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Priority Support Screen -->
        <div class="screen" id="support" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üìû Priority Support</div>
            </div>
            <div class="support-section" style="padding:0 !important; margin:0 !important; height:100vh; width:100vw; position:fixed; top:0; left:0; z-index:1; background:#000;">
                <!-- Priority Support Feature Cards Scrollable Section -->
                <div class="support-feature-scroll" style="position:absolute; bottom:0; left:0; width:100vw; max-width:100vw; z-index:10; background:linear-gradient(0deg,rgba(32,32,32,0.96) 80%,rgba(32,32,32,0.7) 100%,transparent 100%); padding:18px 10px 90px 10px; box-sizing:border-box; overflow-x:auto; overflow-y:auto; display:flex; flex-direction:row; gap:16px;">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìû</div>
                            <div class="feature-title">24/7 Support</div>
                        </div>
                        <div class="feature-desc">Contact our team anytime for Pro/Enterprise users.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üìß</div>
                            <div class="feature-title">Email Support</div>
                        </div>
                        <div class="feature-desc">Send queries to support@trackpro.arybit.co.ke.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üí¨</div>
                            <div class="feature-title">Live Chat</div>
                        </div>
                        <div class="feature-desc">Connect instantly with our support team.</div>
                    </div>
                </div>
                <!-- Support Action Widget (optional, floating at the top) -->
                <div class="support-action-widget" style="position:absolute;top:24px;left:50%;transform:translateX(-50%);z-index:20;max-width:400px;width:95vw;background:rgba(50,6,46,0.92);border-radius:18px;box-shadow:0 8px 32px rgba(0,0,0,0.25);padding:18px 14px 14px 14px;">
                    <div class="text-center">
                        <button class="btn btn-primary" onclick="openSupportChat()" aria-label="Start live chat">Start Live Chat</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Screen -->
        <div class="screen" id="profile" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üë§ Profile & Settings</div>
            </div>
            <div class="profile-section px-3 pb-5">
                <div class="profile-header d-flex align-items-center gap-3 mb-4 p-4 rounded-3">
                    <div class="profile-avatar" aria-hidden="true">JD</div>
                    <div class="profile-info">
                        <h3 class="h5 mb-1">Fleet Manager</h3>
                        <p class="text-muted">Enterprise Plan</p>
                    </div>
                </div>
                <div class="settings-list d-flex flex-column" role="navigation" aria-label="Settings menu">
                    <div class="setting-item d-flex align-items-center justify-content-between p-3 rounded-top-3" role="button" tabindex="0" onclick="openAccount()" aria-label="Manage Account">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <div class="setting-icon" aria-hidden="true">üë§</div>
                            <div class="setting-text">Account</div>
                        </div>
                        <div class="setting-arrow" aria-hidden="true">‚Üí</div>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="openSettings()" aria-label="App Settings">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <div class="setting-icon" aria-hidden="true">‚öôÔ∏è</div>
                            <div class="setting-text">Settings</div>
                        </div>
                        <div class="setting-arrow" aria-hidden="true">‚Üí</div>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="toggleLanguage()" aria-label="Change Language">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <div class="setting-icon" aria-hidden="true">üåç</div>
                            <div class="setting-text">Language</div>
                        </div>
                        <div class="setting-arrow" aria-hidden="true">‚Üí</div>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="window.open('https://trackpro.arybit.co.ke/privacy')" aria-label="View Privacy Policy">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <div class="setting-icon" aria-hidden="true">üîí</div>
                            <div class="setting-text">Privacy Policy</div>
                        </div>
                        <div class="setting-arrow" aria-hidden="true">‚Üí</div>
                    </div>
                    <div class="setting-item d-flex align-items-center justify-content-between p-3" role="button" tabindex="0" onclick="window.open('https://twitter.com/trackpro_arybit')" aria-label="Follow on Twitter/X">
                        <div class="setting-left d-flex align-items-center gap-3">
                            <div class="setting-icon" aria-hidden="true">ùïè</div>
                            <div class="setting-text">Follow on X</div>
                        </div>
                        <div class="setting-arrow" aria-hidden="true">‚Üí</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Device Management Screen -->
        <div class="screen" id="devices" role="main" aria-hidden="true">
            <div class="header d-flex align-items-center justify-content-between d-none">
                <button type="button" class="back-btn" data-btn="home" aria-label="Back to Home">‚Üê</button>
                <div class="logo mx-auto text-center">üì± Device Management</div>
            </div>
            <div class="devices-section px-3 pb-5" style="position:relative; height:100vh; width:100vw; background:#000;">
                <!-- Device Quick Actions Grid -->
                <div class="quick-actions row row-cols-2 row-cols-md-4 g-3 px-3" role="navigation" aria-label="Device Quick Actions">
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-device="Queclink GV20" aria-label="Queclink GV20">
                            <span class="action-icon" aria-hidden="true">üöó</span>
                            <div class="action-title">Queclink GV20</div>
                            <div class="action-desc">2G/3G, TCP/UDP, Ignition detection</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-device="Concox GT06N" aria-label="Concox GT06N">
                            <span class="action-icon" aria-hidden="true">üöö</span>
                            <div class="action-title">Concox GT06N</div>
                            <div class="action-desc">2G, TCP/UDP, Geofencing, SOS</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-device="Teltonika FMB920" aria-label="Teltonika FMB920">
                            <span class="action-icon" aria-hidden="true">üöô</span>
                            <div class="action-title">Teltonika FMB920</div>
                            <div class="action-desc">2G/4G, TCP/UDP, BLE, Harsh alerts</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-device="Coban TK303G" aria-label="Coban TK303G">
                            <span class="action-icon" aria-hidden="true">üöê</span>
                            <div class="action-title">Coban TK303G</div>
                            <div class="action-desc">3G, TCP/UDP, Live tracking, SMS</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="action-card" role="button" tabindex="0" data-device="Xexun TK102" aria-label="Xexun TK102">
                            <span class="action-icon" aria-hidden="true">üöï</span>
                            <div class="action-title">Xexun TK102</div>
                            <div class="action-desc">2G, TCP/SMS, Global, Simple setup</div>
                        </div>
                    </div>
                </div>
                <!-- Device Features Scrollable Section -->
                <div class="devices-feature-scroll">
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üì±</div>
                            <div class="feature-title">Register Devices</div>
                        </div>
                        <div class="feature-desc">Add GPS devices using IMEI and SIM details.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">‚öôÔ∏è</div>
                            <div class="feature-title">Device Configuration</div>
                        </div>
                        <div class="feature-desc">Update firmware and settings via API.</div>
                    </div>
                    <div class="feature-card" role="listitem">
                        <div class="feature-header d-flex align-items-center gap-3 mb-3">
                            <div class="feature-icon" aria-hidden="true">üîç</div>
                            <div class="feature-title">Device Status</div>
                        </div>
                        <div class="feature-desc">Monitor device health and connectivity.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav d-flex justify-content-around align-items-center" role="navigation" aria-label="Main navigation">
            <div class="nav-item active text-center" role="button" tabindex="0" onclick="showScreen('home')" aria-label="Home">
                <div class="nav-icon" aria-hidden="true">üè†</div>
                <div class="nav-label">Home</div>
            </div>
            <div class="nav-item text-center d-none" role="button" tabindex="0" onclick="showScreen('tracking')" aria-label="Tracking">
                <div class="nav-icon" aria-hidden="true">üìç</div>
                <div class="nav-label">Tracking</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('geofencing')" aria-label="Geofencing">
                <div class="nav-icon" aria-hidden="true">üåç</div>
                <div class="nav-label">Geofencing</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('reports')" aria-label="Reports">
                <div class="nav-icon" aria-hidden="true">üìä</div>
                <div class="nav-label">Reports</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('devices')" aria-label="Devices">
                <div class="nav-icon" aria-hidden="true">üì±</div>
                <div class="nav-label">Devices</div>
            </div>
            <div class="nav-item text-center" role="button" tabindex="0" onclick="showScreen('profile')" aria-label="Profile">
                <div class="nav-icon" aria-hidden="true">üë§</div>
                <div class="nav-label">Profile</div>
            </div>
        </nav>
    </div>

    <!-- SOS Button with TrackPro Logo -->
    <button class="sos-button" id="sos-tracking-button" aria-label="SOS">
        <img src="icons/icon-32x32.png" alt="TrackPro Logo" class="tracking-widget-img" style="width:38px;height:38px;border-radius:8px;background:#32062e;box-shadow:0 2px 8px rgba(50,6,46,0.12);">
    </button>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha512-+d/4bImr8a2gX7cT2f0N6HB0eZJ3+OmixEweqNxh1/M0H7di1RB4I3WxotQV9jiPx0z2zW2b7lp8gB8HXHw2mA==" crossorigin="anonymous"></script>
    <!-- Cordova -->
    <script src="cordova.js"></script>
    <!-- Custom JS -->
    <script src="js/config/api.config.js"></script>
    <script src="js/index.js"></script>
</body>
</html>